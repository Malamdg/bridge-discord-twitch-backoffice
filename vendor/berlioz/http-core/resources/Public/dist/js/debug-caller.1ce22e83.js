/*! For license information please see debug-caller.1ce22e83.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(e){var o=function(e){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(o)?o:o+""}const i=function(){return t=function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._basePath=(o||"").replace(/\/$/,""),this._iframe=null,this._reports=[e],this._windows=[],this._overflow=document.body.style.overflow,this._overflowX=document.body.style.overflowX,this._overflowY=document.body.style.overflowY},(o=[{key:"_init",value:function(){this._iframe=document.createElement("iframe"),this._iframe.id="berlioz-console",this._iframe.src=this._basePath+"/_console/"+this._reports[0],this.refresh(),document.body.appendChild(this._iframe),this._windows.push(this._iframe.contentWindow)}},{key:"open",value:function(){this._iframe||this._init(),"block"!==this._iframe.style.display&&(this._overflow=document.body.style.overflow,this._overflowX=document.body.style.overflowX,this._overflowY=document.body.style.overflowY,this._iframe.style.display="block",document.body.style.overflow="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden")}},{key:"close",value:function(){this._iframe&&"none"!==this._iframe.style.display&&(this._iframe.style.display="none",document.body.style.overflow=this._overflow,document.body.style.overflowX=this._overflowX,document.body.style.overflowY=this._overflowY)}},{key:"opened",get:function(){return!!this._iframe&&"block"===this._iframe.style.display}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"newWindow",value:function(){var t=this._basePath+"/_console/"+this._reports[0];this._iframe&&(t=this._iframe.contentDocument.location),this._windows.push(window.open(t)),this.close()}},{key:"refresh",value:function(){this._iframe&&this._iframe.setAttribute("style",this._style())}},{key:"_style",value:function(){return"position: fixed !important;z-index: 1000001 !important;top: 0 !important;bottom: 0 !important;left: 0 !important;right: 0 !important;width: 100% !important;height: 100% !important;background-color: white !important;border:none !important;"}},{key:"reports",get:function(){return this._reports}},{key:"report",set:function(t){this._reports.push(t),this._windows.forEach((function(t){t.refreshReports()}))}}])&&e(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,o}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}var l="berlioz_toolbar_direction";const a=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._basePath=(e||"").replace(/\/$/,""),this._iframe=null,this._direction=null},(e=[{key:"open",value:function(){this._iframe||(this._iframe=document.createElement("iframe"),this._iframe.id="berlioz-toolbar",this._iframe.src=this._basePath+"/_console/"+window.berlioz_debug_report+"/toolbar",this.refresh(),document.body.appendChild(this._iframe))}},{key:"close",value:function(){this._iframe&&this._iframe.remove()}},{key:"refresh",value:function(){this._iframe&&this._iframe.setAttribute("style",this._style())}},{key:"_style",value:function(){var t="position: fixed !important;z-index: 1000000 !important;bottom: 0 !important;height: 75px !important;width: 210px !important;background-color: transparent !important;border:none !important;";return"rtl"===this.direction?t+="right: 0 !important;":t+="left: 0 !important;",t}},{key:"direction",get:function(){return null===this._direction?"rtl"===document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+l+"\\s*=\\s*([^;]*).*$)|^.*$"),"$1")?"rtl":"ltr":this._direction},set:function(t){this._direction="rtl"===t?"rtl":"ltr",document.cookie=l+"="+t+";path=/",this.refresh()}},{key:"flipDirection",value:function(){this.direction="ltr"===this.direction?"rtl":"ltr"}}])&&n(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();if(!window.berlioz_debug_report)throw new Error("Unable to load Berlioz Debug Toolbar without report id");var u,f;window.berlioz={console:u=new i(window.berlioz_debug_report,window.berlioz_base_url),toolbar:f=new a(window.berlioz_base_url)},f.open(),window.closeBerliozToolbar=function(){return f.close()},window.flipBerliozToolbar=function(){return f.flipDirection()},window.toggleBerliozConsole=function(){return u.toggle()},window.openBerliozConsoleInNewWindow=function(){return u.newWindow()};var c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){return this.addEventListener("readystatechange",(function(){2===this.readyState&&-1!==this.getAllResponseHeaders().toLowerCase().indexOf("x-berlioz-debug")&&(u.report=this.getResponseHeader("X-Berlioz-Debug"))}),!1),c.apply(this,arguments)}})();